---
title: Git
summary: Git
tags:
  - ä»£ç ä»“åº“
  - Git
categories:
  - 07-Programming-Assistant
date: 2022-10-15 15:38:43
---

å®˜æ–¹æ–‡æ¡£ https://git-scm.com/docs

## å®Œæ•´å‘½ä»¤
[Complete list of all commands](https://git-scm.com/docs/git#_git_commands)

### Setup and Config

- [git](https://git-scm.com/docs/git)

- [config](https://git-scm.com/docs/git-config)

- [help](https://git-scm.com/docs/git-help)

- [bugreport](https://git-scm.com/docs/git-bugreport)

### Getting and Creating Projects

- [init](https://git-scm.com/docs/git-init)
- [clone](https://git-scm.com/docs/git-clone)

### Basic Snapshotting

- [add](https://git-scm.com/docs/git-add)
- [status](https://git-scm.com/docs/git-status)
- [diff](https://git-scm.com/docs/git-diff)
- [commit](https://git-scm.com/docs/git-commit)
- [notes](https://git-scm.com/docs/git-notes)
- [restore](https://git-scm.com/docs/git-restore)
- [reset](https://git-scm.com/docs/git-reset)
- [rm](https://git-scm.com/docs/git-rm)
- [mv](https://git-scm.com/docs/git-mv)

### Branching and Merging

- [branch](https://git-scm.com/docs/git-branch)
- [checkout](https://git-scm.com/docs/git-checkout)
- [switch](https://git-scm.com/docs/git-switch)
- [merge](https://git-scm.com/docs/git-merge)
- [mergetool](https://git-scm.com/docs/git-mergetool)
- [log](https://git-scm.com/docs/git-log)
- [stash](https://git-scm.com/docs/git-stash)
- [tag](https://git-scm.com/docs/git-tag)
- [worktree](https://git-scm.com/docs/git-worktree)

### Sharing and Updating Projects

- [fetch](https://git-scm.com/docs/git-fetch)
- [pull](https://git-scm.com/docs/git-pull)
- [push](https://git-scm.com/docs/git-push)
- [remote](https://git-scm.com/docs/git-remote)
- [submodule](https://git-scm.com/docs/git-submodule)

### Inspection and Comparison

- [show](https://git-scm.com/docs/git-show)
- [log](https://git-scm.com/docs/git-log)
- [diff](https://git-scm.com/docs/git-diff)
- [difftool](https://git-scm.com/docs/git-difftool)
- [range-diff](https://git-scm.com/docs/git-range-diff)
- [shortlog](https://git-scm.com/docs/git-shortlog)
- [describe](https://git-scm.com/docs/git-describe)

### Patching

- [apply](https://git-scm.com/docs/git-apply)
- [cherry-pick](https://git-scm.com/docs/git-cherry-pick)
- [diff](https://git-scm.com/docs/git-diff)
- [rebase](https://git-scm.com/docs/git-rebase)
- [revert](https://git-scm.com/docs/git-revert)

### Debugging

- [bisect](https://git-scm.com/docs/git-bisect)
- [blame](https://git-scm.com/docs/git-blame)
- [grep](https://git-scm.com/docs/git-grep)

### Guides

- [gitattributes](https://git-scm.com/docs/gitattributes)
- [Command-line interface conventions](https://git-scm.com/docs/gitcli)
- [Everyday Git](https://git-scm.com/docs/giteveryday)
- [Frequently Asked Questions (FAQ)](https://git-scm.com/docs/gitfaq)
- [Glossary](https://git-scm.com/docs/gitglossary)
- [Hooks](https://git-scm.com/docs/githooks)
- [gitignore](https://git-scm.com/docs/gitignore)
- [gitmodules](https://git-scm.com/docs/gitmodules)
- [Revisions](https://git-scm.com/docs/gitrevisions)
- [Submodules](https://git-scm.com/docs/gitsubmodules)
- [Tutorial](https://git-scm.com/docs/gittutorial)
- [Workflows](https://git-scm.com/docs/gitworkflows)
- [All guides...](https://git-scm.com/docs/git#_guides)

### Email

- [am](https://git-scm.com/docs/git-am)
- [apply](https://git-scm.com/docs/git-apply)
- [format-patch](https://git-scm.com/docs/git-format-patch)
- [send-email](https://git-scm.com/docs/git-send-email)
- [request-pull](https://git-scm.com/docs/git-request-pull)

### External Systems

- [svn](https://git-scm.com/docs/git-svn)
- [fast-import](https://git-scm.com/docs/git-fast-import)

### Administration

- [clean](https://git-scm.com/docs/git-clean)
- [gc](https://git-scm.com/docs/git-gc)
- [fsck](https://git-scm.com/docs/git-fsck)
- [reflog](https://git-scm.com/docs/git-reflog)
- [filter-branch](https://git-scm.com/docs/git-filter-branch)
- [instaweb](https://git-scm.com/docs/git-instaweb)
- [archive](https://git-scm.com/docs/git-archive)
- [bundle](https://git-scm.com/docs/git-bundle)

### Server Admin

- [daemon](https://git-scm.com/docs/git-daemon)
- [update-server-info](https://git-scm.com/docs/git-update-server-info)

### Plumbing Commands

- [cat-file](https://git-scm.com/docs/git-cat-file)
- [check-ignore](https://git-scm.com/docs/git-check-ignore)
- [checkout-index](https://git-scm.com/docs/git-checkout-index)
- [commit-tree](https://git-scm.com/docs/git-commit-tree)
- [count-objects](https://git-scm.com/docs/git-count-objects)
- [diff-index](https://git-scm.com/docs/git-diff-index)
- [for-each-ref](https://git-scm.com/docs/git-for-each-ref)
- [hash-object](https://git-scm.com/docs/git-hash-object)
- [ls-files](https://git-scm.com/docs/git-ls-files)
- [ls-tree](https://git-scm.com/docs/git-ls-tree)
- [merge-base](https://git-scm.com/docs/git-merge-base)
- [read-tree](https://git-scm.com/docs/git-read-tree)
- [rev-list](https://git-scm.com/docs/git-rev-list)
- [rev-parse](https://git-scm.com/docs/git-rev-parse)
- [show-ref](https://git-scm.com/docs/git-show-ref)
- [symbolic-ref](https://git-scm.com/docs/git-symbolic-ref)
- [update-index](https://git-scm.com/docs/git-update-index)
- [update-ref](https://git-scm.com/docs/git-update-ref)
- [verify-pack](https://git-scm.com/docs/git-verify-pack)
- [write-tree](https://git-scm.com/docs/git-write-tree)

## å¸¸ç”¨å‘½ä»¤

### ç»‘å®šgitåœ°å€

```shell
git init
git remote add origin http://github.com/example.git
git add .
git commit -m ":tada: init"
git branch --set-upstream-to=origin/master master
git push
```

### æ‹‰å–åˆ†æ”¯

```shell
git pull origin master
git clean -d -fx
```

+ `-n` æ˜¾ç¤ºå°†è¦åˆ é™¤çš„æ–‡ä»¶å’Œç›®å½•
+ `-x` åˆ é™¤å¿½ç•¥æ–‡ä»¶å·²ç»å¯¹gitæ¥è¯´ä¸è¯†åˆ«çš„æ–‡ä»¶
+ `-d` åˆ é™¤æœªè¢«æ·»åŠ åˆ°gitçš„è·¯å¾„ä¸­çš„æ–‡ä»¶
+ `-f` å¼ºåˆ¶è¿è¡Œ

### å¿½ç•¥æœ¬åœ°å†å²æäº¤å†²çªå¼ºåˆ¶åˆå¹¶

```shell
git remote add origin https://192.168.100.49:8081/zhcloud/zh-web.git
git fetch platform
git merge platform/master --allow-unrelated-histories
```

### åˆ‡æ¢åˆ†æ”¯

```shell
git checkout master
git checkout -b project
git branch
```

### å›é€€æ•°æ®åº“ç‰ˆæœ¬

```shell
git reset --hard ç‰ˆæœ¬ä¿¡æ¯SHA
git push -f -u origin prod
```

### æ ‡ç­¾

```shell
git tag # æ‰“å°æ‰€æœ‰æ ‡ç­¾
git tag -l 1.*.* # æ‰“å°æ‰€æœ‰æ ‡ç­¾
git checkout 1.0.0 # æŸ¥çœ‹å¯¹åº”æ ‡ç­¾çŠ¶æ€
git tag 1.0.0-light # åˆ›å»ºè½»é‡æ ‡ç­¾
git tag -a 1.0.0 -m "è¿™æ˜¯å¤‡æ³¨ä¿¡æ¯" # åˆ›å»ºå¸¦å¤‡æ³¨æ ‡ç­¾(æ¨è)
git tag -a 1.0.0 0c3b62d -m "è¿™æ˜¯å¤‡æ³¨ä¿¡æ¯" # é’ˆå¯¹ç‰¹å®šcommitç‰ˆæœ¬SHAåˆ›å»ºæ ‡ç­¾
git tag -d 1.0.0 # åˆ é™¤æ ‡ç­¾(æœ¬åœ°)
git push origin --tags # å°†æœ¬åœ°æ ‡ç­¾å‘å¸ƒåˆ°è¿œç¨‹ä»“åº“
git push origin 1.0.0 # æŒ‡å®šç‰ˆæœ¬å‘é€
git push origin --delete 1.0.0 # åˆ é™¤è¿œç¨‹ä»“åº“å¯¹åº”æ ‡ç­¾
```

### å…¨å±€ä¿¡æ¯æŸ¥çœ‹

```shell
git remote show origin # ä»£ç æº
git remote remove origin # åˆ é™¤ä»£ç æº
git config -l # å…¨å±€çº§é…ç½®ï¼Œå¦‚æœæ²¡æœ‰ä»“åº“çº§åˆ«çš„ç‰¹æ®Šé…ç½®ï¼Œé»˜è®¤è¯»å–è¿™ä¸ªé…ç½®; ä»“åº“çº§é…ç½®ï¼Œä¸€èˆ¬ä¸€ä¸ªé¡¹ç›®é…ç½®ä¸€æ¬¡
git config --global user.name "name"
git config --system --unset credential.helper # ç”¨æˆ·å¯†ç æ›´æ”¹åé‡æ–°è®¾ç½®
git config --global http.sslVerify false # è§£å†³SSLéªŒè¯çš„é—®é¢˜
git config --global --unset http.proxy # è§£å†³SSLéªŒè¯çš„é—®é¢˜
```

### å­æ¨¡å—

```shell
# æ·»åŠ å­æ¨¡å—
git submodule add git@github.com:WANGJUEYA/hexo-theme-christmas-tree.git ./themes/christmas-tree
# åˆ é™¤å­æ¨¡å—ç¼“å­˜(ç”¨äºæ‰‹åŠ¨åˆ é™¤å­æ¨¡å—åæç¤ºä»ç„¶å­˜åœ¨çš„é—®é¢˜)
git rm -r --cached themes/christmas-tree
# é¦–æ¬¡æ‹‰å–åŒ…å«å­æ¨¡å—çš„ä»£ç (windowså­æ¨¡å—sshéªŒè¯æœ‰é—®é¢˜, è¯•ç”¨gitçš„å‘½ä»¤è¡Œå®¢æˆ·ç«¯ git-bash å¤„ç†)
git clone git@github.com:WANGJUEYA/B612-Factory.git --recursive
# æ›´æ–°æ‰€æœ‰å­æ¨¡å—åˆ°æœ€æ–°ç‰ˆæœ¬
git submodule update --remote
```
+ [æ›´å¤šæ–¹å¼](http://t.zoukankan.com/ibingshan-p-10238469.html)

## ä½¿ç”¨sshåè®®æ‹‰å–ä»£ç 

+ é…ç½®å…¨å±€é…ç½®

```bash
$ git config --global user.name "GitHubç”¨æˆ·å"
$ git config --global user.email "GitHubç»‘å®šé‚®ç®±"
```

+ è¾“å…¥å‘½ä»¤, ä¸€ç›´å›è½¦ç”Ÿæˆæ–‡ä»¶

+ æ³¨æ„: å¦‚æœæˆ‘ä»¬`Enter passphrase`ä¼ å…¥äº†å€¼, ä¼šé‡åˆ°ä¸€ç³»åˆ—é—®é¢˜, å»ºè®®ç›´æ¥å›è½¦ä¸ä¼ å€¼
  + æ‹‰å–å¸¦å­æ¨¡å—çš„ä»“åº“æ—¶å¤±è´¥, éœ€è¦ç”¨ `git-bash` å®¢æˆ·ç«¯æ„å»º
  + GitHub Action æ„å»ºæ—¶æ— æ³•ä¼ å…¥key(æš‚æœªæ‰¾åˆ°è§£å†³æ–¹æ¡ˆ)


```bash
$ ssh-keygen -t rsa -C "{æ³¨å†Œé‚®ç®±åœ°å€}"
```

+ æ‰“å¼€ `C:\Users\ç”¨æˆ·å\.ssh\id_rsa.pub`, å¤åˆ¶å†…å®¹
+ åœ¨giteeåŠgithubè®¾ç½®ä¸­æ–°å¢ssh
+ ä¹‹åè®¾ç½®remoteä»£ç æºæ—¶éœ€è¦æŒ‡å®šä¸ºsshåè®® `git@github.com:username`

## Gitmoji

[An emoji guide for your commit messages](https://gitmoji.dev/)

|icon|show|key|remark|
| :---: | :---: | :---: | :---|
|ğŸ¨|:art:|art|Improve structure / format of the code.|
|âš¡ï¸|:zap:|zap|Improve performance.|
|ğŸ”¥|:fire:|fire|Remove code or files.|
|ğŸ›|:bug:|bug|Fix a bug.|
|ğŸš‘ï¸|:ambulance:|ambulance|Critical hotfix.|
|âœ¨|:sparkles:|sparkles|Introduce new features.|
|ğŸ“|:memo:|memo|Add or update documentation.|
|ğŸš€|:rocket:|rocket|Deploy stuff.|
|ğŸ’„|:lipstick:|lipstick|Add or update the UI and style files.|
|ğŸ‰|:tada:|tada|Begin a project.|
|âœ…|:white_check_mark:|white_check_mark|Add, update, or pass tests.|
|ğŸ”’ï¸|:lock:|lock|Fix security issues.|
|ğŸ”|:closed_lock_with_key:|closed_lock_with_key|Add or update secrets.|
|ğŸ”–|:bookmark:|bookmark|Release / Version tags.|
|ğŸš¨|:rotating_light:|rotating_light|Fix compiler / linter warnings.|
|ğŸš§|:construction:|construction|Work in progress.|
|ğŸ’š|:green_heart:|green_heart|Fix CI Build.|
|â¬‡ï¸|:arrow_down:|arrow_down|Downgrade dependencies.|
|â¬†ï¸|:arrow_up:|arrow_up|Upgrade dependencies.|
|ğŸ“Œ|:pushpin:|pushpin|Pin dependencies to specific versions.|
|ğŸ‘·|:construction_worker:|construction_worker|Add or update CI build system.|
|ğŸ“ˆ|:chart_with_upwards_trend:|chart_with_upwards_trend|Add or update analytics or track code.|
|â™»ï¸|:recycle:|recycle|Refactor code.|
|â•|:heavy_plus_sign:|heavy_plus_sign|Add a dependency.|
|â–|:heavy_minus_sign:|heavy_minus_sign|Remove a dependency.|
|ğŸ”§|:wrench:|wrench|Add or update configuration files.|
|ğŸ”¨|:hammer:|hammer|Add or update development scripts.|
|ğŸŒ|:globe_with_meridians:|globe_with_meridians|Internationalization and localization.|
|âœï¸|:pencil2:|pencil2|Fix typos.|
|ğŸ’©|:poop:|poop|Write bad code that needs to be improved.|
|âªï¸|:rewind:|rewind|Revert changes.|
|ğŸ”€|:twisted_rightwards_arrows:|twisted_rightwards_arrows|Merge branches.|
|ğŸ“¦ï¸|:package:|package|Add or update compiled files or packages.|
|ğŸ‘½ï¸|:alien:|alien|Update code due to external API changes.|
|ğŸšš|:truck:|truck|Move or rename resources (e.g.: files, paths, routes).|
|ğŸ“„|:page_facing_up:|page_facing_up|Add or update license.|
|ğŸ’¥|:boom:|boom|Introduce breaking changes.|
|ğŸ±|:bento:|bento|Add or update assets.|
|â™¿ï¸|:wheelchair:|wheelchair|Improve accessibility.|
|ğŸ’¡|:bulb:|bulb|Add or update comments in source code.|
|ğŸ»|:beers:|beers|Write code drunkenly.|
|ğŸ’¬|:speech_balloon:|speech_balloon|Add or update text and literals.|
|ğŸ—ƒï¸|:card_file_box:|card_file_box|Perform database related changes.|
|ğŸ”Š|:loud_sound:|loud_sound|Add or update logs.|
|ğŸ”‡|:mute:|mute|Remove logs.|
|ğŸ‘¥|:busts_in_silhouette:|busts_in_silhouette|Add or update contributor(s).|
|ğŸš¸|:children_crossing:|children_crossing|Improve user experience / usability.|
|ğŸ—ï¸|:building_construction:|building_construction|Make architectural changes.|
|ğŸ“±|:iphone:|iphone|Work on responsive design.|
|ğŸ¤¡|:clown_face:|clown_face|Mock things.|
|ğŸ¥š|:egg:|egg|Add or update an easter egg.|
|ğŸ™ˆ|:see_no_evil:|see_no_evil|Add or update a .gitignore file.|
|ğŸ“¸|:camera_flash:|camera_flash|Add or update snapshots.|
|âš—ï¸|:alembic:|alembic|Perform experiments.|
|ğŸ”ï¸|:mag:|mag|Improve SEO.|
|ğŸ·ï¸|:label:|label|Add or update types.|
|ğŸŒ±|:seedling:|seedling|Add or update seed files.|
|ğŸš©|:triangular_flag_on_post:|triangular_flag_on_post|Add, update, or remove feature flags.|
|ğŸ¥…|:goal_net:|goal_net|Catch errors.|
|ğŸ’«|:dizzy:|dizzy|Add or update animations and transitions.|
|ğŸ—‘ï¸|:wastebasket:|wastebasket|Deprecate code that needs to be cleaned up.|
|ğŸ›‚|:passport_control:|passport_control|Work on code related to authorization, roles and permissions.|
|ğŸ©¹|:adhesive_bandage:|adhesive_bandage|Simple fix for a non-critical issue.|
|ğŸ§|:monocle_face:|monocle_face|Data exploration/inspection.|
|âš°ï¸|:coffin:|coffin|Remove dead code.|
|ğŸ§ª|:test_tube:|test_tube|Add a failing test.|
|ğŸ‘”|:necktie:|necktie|Add or update business logic|
|ğŸ©º|:stethoscope:|stethoscope|Add or update healthcheck.|
|ğŸ§±|:bricks:|bricks|Infrastructure related changes.|
|ğŸ§‘â€ğŸ’»|:technologist:|technologist|Improve developer experience|
|ğŸ’¸|:money_with_wings:|money_with_wings|Add sponsorships or money related infrastructure.|
|ğŸ§µ|:thread:|thread|Add or update code related to multithreading or concurrency.|

## github

### GitHub Action

å®˜æ–¹æ–‡æ¡£: https://docs.github.com/en/actions/quickstart

#### åˆ©ç”¨ GitHub Action å®ç°ä»“åº“åŒæ­¥
```yaml

```

#### åˆ©ç”¨ GitHub Action å®ç°ç½‘ç«™å‘å¸ƒ
```yaml

```

## gitee

å¼€å‘è€…æ–‡æ¡£ https://gitee.com/api/v5/swagger#/postV5UserRepos